import{C as H,x as C,c as M,g as s,b as k,k as L,w as h,e,D as U,E as F,G as B,H as N,d as q,F as S,f as n,I as J,t as l,h as Q,J as W,B as X,K as Y,L as Z,j as ee}from"./index-d6d7b493.js";import{c as o,a as E,u as O,_ as d,D as oe,b as ne,S as V}from"./sweetalert2.all-4c882652.js";import{_ as j,i as ae,u as te}from"./FormUploadFile-17cfa63e.js";import{M as K}from"./Modal-3e312f8a.js";import{_ as I}from"./FormSelect-e97a40eb.js";import{i as ce}from"./isNil-c75b1b34.js";import{u as de}from"./useConfig-4604b8e3.js";import"./plugin-vueexport-helper-c27b6911.js";import"./menu-c12ea4fa.js";import"./default.cssvuetypestyleindex0srctruelang-dacab08e.js";const G=[{code:"000",name:"中央銀行國庫局"},{code:"004",name:"臺灣銀行"},{code:"005",name:"臺灣土地銀行"},{code:"006",name:"合作金庫商業銀行"},{code:"007",name:"第一商業銀行"},{code:"008",name:"華南商業銀行"},{code:"009",name:"彰化商業銀行"},{code:"011",name:"上海商業儲蓄銀行"},{code:"012",name:"台北富邦商業銀行"},{code:"013",name:"國泰世華商業銀行"},{code:"016",name:"高雄銀行"},{code:"017",name:"兆豐國際商業銀行"},{code:"018",name:"全國農業金庫"},{code:"021",name:"花旗（台灣）商業銀行"},{code:"048",name:"王道商業銀行"},{code:"050",name:"臺灣中小企業銀行"},{code:"052",name:"渣打國際商業銀行"},{code:"053",name:"台中商業銀行"},{code:"054",name:"京城商業銀行"},{code:"081",name:"匯豐（台灣）商業銀行"},{code:"101",name:"瑞興商業銀行"},{code:"102",name:"華泰商業銀行"},{code:"103",name:"臺灣新光商業銀行"},{code:"108",name:"陽信商業銀行"},{code:"108",name:"陽信商業銀行"},{code:"118",name:"板信商業銀行"},{code:"147",name:"三信商業銀行"},{code:"803",name:"聯邦商業銀行"},{code:"805",name:"遠東國際商業銀行"},{code:"806",name:"元大商業銀行"},{code:"807",name:"永豐商業銀行"},{code:"808",name:"玉山商業銀行"},{code:"809",name:"凱基商業銀行"},{code:"810",name:"星展（台灣）商業銀行"},{code:"812",name:"台新國際商業銀行"},{code:"816",name:"安泰商業銀行"},{code:"822",name:"中國信託商業銀行"},{code:"823",name:"將來商業銀行"},{code:"824",name:"連線商業銀行"},{code:"826",name:"樂天國際商業銀行"},{code:"114",name:"基隆第一信用合作社"},{code:"115",name:"基隆市第二信用合作社"},{code:"119",name:"淡水第一信用合作社"},{code:"130",name:"新竹第一信用合作社"},{code:"132",name:"新竹第三信用合作社"},{code:"146",name:"台中市第二信用合作社"},{code:"162",name:"彰化第六信用合作社"},{code:"204",name:"高雄市第三信用合作社"},{code:"215",name:"花蓮第一信用合作社"},{code:"216",name:"花蓮第二信用合作社"},{code:"104",name:"台北市第五信用合作社"},{code:"120",name:"新北市淡水信用合作社"},{code:"124",name:"宜蘭信用合作社"},{code:"127",name:"桃園信用合作社"},{code:"158",name:"彰化第一信用合作社"},{code:"161",name:"彰化第五信用合作社"},{code:"163",name:"彰化第十信用合作社"},{code:"165",name:"彰化縣鹿港信用合作社"},{code:"178",name:"嘉義市第三信用合作社"},{code:"188",name:"台南第三信用合作社"},{code:"222",name:"澎湖縣第一信用合作社"},{code:"223",name:"澎湖第二信用合作社"},{code:"224",name:"金門縣信用合作社"},{code:"501",name:"宜蘭縣蘇澳區漁會"},{code:"502",name:"宜蘭縣頭城區漁會"},{code:"506",name:"桃園區漁會"},{code:"507",name:"新竹區漁會"},{code:"508",name:"通苑區漁會"},{code:"510",name:"南龍區漁會"},{code:"511",name:"彰化區漁會"},{code:"513",name:"新北市瑞芳區漁會"},{code:"512",name:"南農中心所屬會員"},{code:"514",name:"萬里區漁會"},{code:"515",name:"南農中心所屬會員"},{code:"516",name:"基隆區漁會"},{code:"517",name:"南農中心所屬會員"},{code:"518",name:"南農中心所屬會員"},{code:"519",name:"新化區農會"},{code:"520",name:"南農中心所屬會員"},{code:"521",name:"南農中心所屬會員"},{code:"523",name:"南農中心所屬會員"},{code:"524",name:"南農中心所屬會員"},{code:"525",name:"南農中心所屬會員"},{code:"526",name:"南農中心所屬會員"},{code:"538",name:"宜蘭市農會"},{code:"541",name:"白河區農會"},{code:"542",name:"麻豆區農會"},{code:"547",name:"後壁區農會"},{code:"549",name:"下營區農會"},{code:"551",name:"官田區農會"},{code:"552",name:"大內區農會"},{code:"556",name:"學甲區農會"},{code:"557",name:"新市區農會"},{code:"558",name:"安定區農會"},{code:"559",name:"山上區農會"},{code:"561",name:"左鎮區農會"},{code:"562",name:"仁德區農會"},{code:"564",name:"關廟區農會"},{code:"565",name:"龍崎區農會"},{code:"567",name:"南化區農會"},{code:"568",name:"七股區農會"},{code:"570",name:"南投市農會"},{code:"573",name:"埔里鎮農會"},{code:"574",name:"竹山鎮農會"},{code:"575",name:"中寮鄉農會"},{code:"577",name:"魚池鄉農會"},{code:"578",name:"水里鄉農會"},{code:"579",name:"國姓鄉農會"},{code:"580",name:"鹿谷鄉農會"},{code:"581",name:"信義鄉農會"},{code:"582",name:"仁愛鄉農會"},{code:"583",name:"東山區農會"},{code:"585",name:"頭城鎮農會"},{code:"586",name:"羅東鎮農會"},{code:"587",name:"礁溪鄉農會"},{code:"588",name:"壯圍鄉農會"},{code:"589",name:"員山鄉農會"},{code:"596",name:"五結鄉農會"},{code:"598",name:"蘇澳地區農會"},{code:"599",name:"三星地區農會"},{code:"602",name:"中華民國農會中壢辦事處信用部"},{code:"605",name:"高雄市高雄地區農會"},{code:"615",name:"基隆市農會"},{code:"625",name:"臺中市臺中地區農會"},{code:"628",name:"鹿港鎮農會"},{code:"629",name:"和美鎮農會"},{code:"631",name:"溪湖鎮農會"},{code:"632",name:"田中鎮農會"},{code:"633",name:"北斗鎮農會"},{code:"635",name:"線西鄉農會"},{code:"636",name:"伸港鄉農會"},{code:"638",name:"花壇鄉農會"},{code:"639",name:"大村鄉農會"},{code:"642",name:"社頭鄉農會"},{code:"643",name:"二水鄉農會"},{code:"646",name:"大城鄉農會"},{code:"647",name:"溪州鄉農會"},{code:"649",name:"埔鹽鄉農會"},{code:"650",name:"福興鄉農會"},{code:"651",name:"彰化市農會"},{code:"683",name:"北港鎮農會"},{code:"685",name:"土庫鎮農會"},{code:"693",name:"東勢鄉農會"},{code:"696",name:"水林鄉農會"},{code:"697",name:"元長鄉農會"},{code:"698",name:"麥寮鄉農會"},{code:"699",name:"林內鄉農會"},{code:"749",name:"內埔地區農會"},{code:"762",name:"大溪區農會"},{code:"763",name:"桃園區農會"},{code:"764",name:"平鎮區農會"},{code:"765",name:"楊梅區農會"},{code:"766",name:"大園區農會"},{code:"767",name:"蘆竹區農會"},{code:"768",name:"龜山區農會"},{code:"769",name:"八德區農會"},{code:"770",name:"新屋區農會"},{code:"771",name:"龍潭區農會"},{code:"772",name:"復興區農會"},{code:"773",name:"觀音區農會"},{code:"775",name:"土城區農會"},{code:"776",name:"三重區農會"},{code:"777",name:"中和地區農會"},{code:"778",name:"淡水區農會"},{code:"779",name:"樹林區農會"},{code:"780",name:"鶯歌區農會"},{code:"781",name:"三峽區農會"},{code:"785",name:"蘆洲區農會"},{code:"786",name:"五股區農會"},{code:"787",name:"林口區農會"},{code:"788",name:"泰山區農會"},{code:"789",name:"坪林區農會"},{code:"790",name:"八里區農會"},{code:"791",name:"金山地區農會"},{code:"792",name:"瑞芳地區農會"},{code:"793",name:"新店地區農會"},{code:"795",name:"深坑區農會"},{code:"796",name:"石碇區農會"},{code:"797",name:"平溪區農會"},{code:"798",name:"石門區農會"},{code:"799",name:"三芝區農會"},{code:"860",name:"中埔鄉農會"},{code:"866",name:"阿里山鄉農會"},{code:"868",name:"東勢區農會"},{code:"869",name:"清水區農會"},{code:"870",name:"梧棲區農會"},{code:"871",name:"大甲區農會"},{code:"872",name:"沙鹿區農會"},{code:"874",name:"霧峰區農會"},{code:"875",name:"太平區農會"},{code:"876",name:"烏日區農會"},{code:"877",name:"后里區農會"},{code:"878",name:"大雅區農會"},{code:"879",name:"潭子區農會"},{code:"880",name:"石岡區農會"},{code:"881",name:"新社區農會"},{code:"882",name:"大肚區農會"},{code:"883",name:"外埔區農會"},{code:"884",name:"大安區農會"},{code:"885",name:"龍井區農會"},{code:"886",name:"和平區農會"},{code:"891",name:"花蓮市農會"},{code:"895",name:"瑞穗鄉農會"},{code:"896",name:"玉溪地區農會"},{code:"897",name:"鳳榮地區農會"},{code:"898",name:"光豐地區農會"},{code:"901",name:"大里區農會"},{code:"902",name:"苗栗市農會"},{code:"903",name:"汐止區農會"},{code:"904",name:"新莊區農會"},{code:"906",name:"頭份市農會"},{code:"907",name:"竹南鎮農會"},{code:"908",name:"通霄鎮農會"},{code:"909",name:"苑裡鎮農會"},{code:"912",name:"冬山鄉農會"},{code:"913",name:"後龍鎮農會"},{code:"914",name:"卓蘭鎮農會"},{code:"915",name:"西湖鄉農會"},{code:"916",name:"草屯鎮農會"},{code:"917",name:"公館鄉農會"},{code:"918",name:"銅鑼鄉農會"},{code:"919",name:"三義鄉農會"},{code:"920",name:"造橋鄉農會"},{code:"921",name:"南庄鄉農會"},{code:"922",name:"臺南市臺南地區農會"},{code:"923",name:"獅潭鄉農會"},{code:"924",name:"頭屋鄉農會"},{code:"925",name:"三灣鄉農會"},{code:"926",name:"苗栗縣大湖地區農會"},{code:"928",name:"板橋區農會"},{code:"929",name:"關西鎮農會"},{code:"930",name:"新埔鎮農會"},{code:"931",name:"竹北市農會"},{code:"932",name:"湖口鄉農會"},{code:"933",name:"芎林鄉農會"},{code:"934",name:"寶山鄉農會"},{code:"935",name:"峨眉鄉農會"},{code:"936",name:"北埔鄉農會"},{code:"937",name:"竹東地區農會"},{code:"938",name:"橫山地區農會"},{code:"939",name:"新豐鄉農會"},{code:"940",name:"新竹市農會信用部"},{code:"953",name:"田尾鄉農會"},{code:"984",name:"北投區農會"},{code:"985",name:"士林區農會"},{code:"986",name:"內湖區農會"},{code:"987",name:"南港區農會"},{code:"988",name:"木柵區農會"},{code:"989",name:"景美區農會"},{code:"612",name:"南農中心所屬會員"},{code:"613",name:"南農中心所屬會員"},{code:"614",name:"南農中心所屬會員"},{code:"616",name:"南農中心所屬會員"},{code:"617",name:"南農中心所屬會員"},{code:"618",name:"南農中心所屬會員"},{code:"619",name:"南農中心所屬會員"},{code:"620",name:"南農中心所屬會員"},{code:"621",name:"南農中心所屬會員"},{code:"622",name:"南農中心所屬會員"},{code:"624",name:"南農中心所屬會員"},{code:"627",name:"南農中心所屬會員"},{code:"952",name:"南農中心所屬會員"},{code:"020",name:"日商瑞穗銀行台北分行"},{code:"022",name:"美國銀行台北分行"},{code:"023",name:"泰國盤谷銀行台北分行"},{code:"025",name:"菲律賓首都銀行台北分行"},{code:"029",name:"新加坡商大華銀行台北分行"},{code:"030",name:"美商道富銀行台北分行"},{code:"037",name:"法商法國興業銀行台北分行"},{code:"039",name:"澳商澳盛銀行台北分行"},{code:"072",name:"德商德意志銀行台北分行"},{code:"075",name:"香港商東亞銀行台北分行"},{code:"076",name:"美商摩根大通銀行台北分行"},{code:"082",name:"法國巴黎銀行台北分行"},{code:"085",name:"新加坡商新加坡華僑銀行台北分行"},{code:"086",name:"法商東方匯理銀行台北分行"},{code:"092",name:"瑞士商瑞士銀行台北分行"},{code:"093",name:"荷商安智銀行台北分行"},{code:"098",name:"日商三菱日聯銀行台北分行"},{code:"321",name:"日商三井住友銀行台北分行"},{code:"326",name:"西班牙商西班牙對外銀行臺北分行"},{code:"329",name:"印尼商印尼人民銀行台北分行"},{code:"330",name:"韓商韓亞銀行台北分行"},{code:"380",name:"大陸商中國銀行臺北分行"},{code:"381",name:"大陸商交通銀行臺北分行"},{code:"382",name:"大陸商中國建設銀行臺北分行"},{code:"060",name:"兆豐票券金融股份有限公司"},{code:"061",name:"中華票券金融股份有限公司"},{code:"062",name:"國際票券金融股份有限公司"},{code:"066",name:"萬通票券金融股份有限公司"},{code:"372",name:"大慶票券金融股份有限公司"},{code:"995",name:"關貿網路股份有限公司"},{code:"996",name:"財政部國庫署"},{code:"700",name:"中華郵政股份有限公司"},{code:"600",name:"農金資訊股份有限公司"},{code:"952",name:"財團法人農漁會南區資訊中心"},{code:"997",name:"中華民國信用合作社聯合社南區聯合資訊處理"}].sort((b,w)=>b.code-w.code).map(b=>({label:`${b.name} (${b.code})`,value:b.name})),se={class:"col-12 mb-3"},le={class:"form-check form-check-inline"},me=e("label",{class:"form-check-label",for:"typePerson"},"自然人",-1),re={class:"form-check form-check-inline"},ie=e("label",{class:"form-check-label",for:"typeCorporation"},"法人",-1),ue={class:"col-12 col-lg-6"},he={class:"col-12 col-lg-6"},pe={class:"col-12 col-lg-6"},_e={class:"col-12 col-lg-6"},be={class:"col-12"},ve={class:"col-12"},fe={class:"col-12 col-lg-6"},ye={class:"col-12 col-lg-6"},ge={class:"col-12"},ke={class:"col-12 col-lg-6"},we=["src"],$e={class:"col-12 col-lg-6 mt-3 mt-lg-0"},xe=["src"],qe={class:"col-12 mt-3"},Ce={class:"form-check"},Ae=e("label",{class:"form-check-label",for:"useForNucleusAccounting"}," 是否加上核果報帳使用 ",-1),Fe={class:"col-12 col-lg-6"},Re={class:"col-12 col-lg-6"},Be={class:"col-12 col-lg-6"},je={class:"col-12 col-lg-6"},Se={class:"col-12"},Ie={class:"col-12 col-lg-6"},Te={class:"col-12 col-lg-6"},De={class:"col-12"},Me={class:"col-12 mt-3"},Ne=["src"],Ve={class:"btn-list text-center mt-5"},Ge=e("button",{class:"btn btn-md btn-primary",type:"submit"},"確定",-1),Le={__name:"FormModal",props:{reload:{type:Function,required:!0}},setup(b,{expose:w}){const x=H(),v=b,r=C(null),p={type:"person",name:"",email:"",identity:"",phone:"",residenceAddress:"",address:"",bankId:"",bankBranch:"",bankAccount:"",idCardFront:"",idCardBack:"",useForNucleusAccounting:!1,bankStatement:"",taxId:"",companyAddress:""},i=C(null),A=M(()=>ce(s(i))),$=M(()=>{const u={type:o().required("請選擇類型"),email:o().required("請輸入Email").email("請輸入正確email格式"),phone:o().required("請輸入聯絡電話"),bankId:o().required("請輸入收款銀行"),bankBranch:o().required("請輸入收款分行"),bankAccount:o().required("請輸入收款帳號"),bankStatement:o().required("請上傳銀行影本")};return E().shape({...u,name:o().when("type",{is:"person",then:()=>o().required("請輸入領款人姓名"),otherwise:()=>o().required("請輸入公司名稱")}),identity:o().when("type",{is:"person",then:()=>o().required("請輸入身分證字號"),otherwise:()=>o().notRequired()}),residenceAddress:o().when("type",{is:"person",then:()=>o().required("請輸入戶籍地址"),otherwise:()=>o().notRequired()}),address:o().when("type",{is:"person",then:()=>o().required("請輸入通訊地址"),otherwise:()=>o().notRequired()}),idCardFront:o().when("type",{is:"person",then:()=>o().required("請上傳身分證正面"),otherwise:()=>o().notRequired()}),idCardBack:o().when("type",{is:"person",then:()=>o().required("請上傳身分證反面"),otherwise:()=>o().notRequired()}),taxId:o().when("type",{is:"person",then:()=>o().notRequired(),otherwise:()=>o().required("請輸入統編")}),companyAddress:o().when("type",{is:"person",then:()=>o().notRequired(),otherwise:()=>o().required("請輸入公司地址")})})}),{handleSubmit:c,resetForm:f,values:m,defineField:a}=O({initialValues:p,validationSchema:$}),[t]=a("type"),[y]=a("useForNucleusAccounting");function T(){f({values:{...p,type:t.value}})}const P=async u=>{u?(i.value=u,f({values:u})):f({values:p}),r.value.show()},z=()=>{i.value=void 0,f({values:p,touched:!1})},D=c(async u=>{console.log(u),x.success("成功"),v.reload(),r.value.hide()}),R=u=>ae(u)?window.URL.createObjectURL(u):"";return w({show:P}),(u,_)=>(k(),L(K,{ref_key:"modalRef",ref:r,title:A.value?"新增外包商":"編輯外包商","hide-footer":!0,dialogClass:"modal-lg","modal-hide":z},{default:h(()=>[e("form",{class:"row",onSubmit:_[4]||(_[4]=U((...g)=>s(D)&&s(D)(...g),["prevent"]))},[e("div",se,[e("div",le,[F(e("input",{class:"form-check-input",type:"radio",id:"typePerson",value:"person",onChange:T,"onUpdate:modelValue":_[0]||(_[0]=g=>B(t)?t.value=g:null)},null,544),[[N,s(t)]]),me]),e("div",re,[F(e("input",{class:"form-check-input",type:"radio",id:"typeCorporation",onChange:T,value:"corporation","onUpdate:modelValue":_[1]||(_[1]=g=>B(t)?t.value=g:null)},null,544),[[N,s(t)]]),ie])]),s(m).type==="person"?(k(),q(S,{key:0},[e("div",ue,[n(d,{name:"name",label:"領款人姓名",required:"",placeholder:"請輸入"})]),e("div",he,[n(d,{name:"identity",label:"身分證字號",required:"",placeholder:"請輸入"})]),e("div",pe,[n(d,{name:"email",label:"Email",required:"",placeholder:"請輸入"})]),e("div",_e,[n(d,{name:"phone",label:"聯絡電話",required:"",placeholder:"請輸入"})]),e("div",be,[n(d,{name:"residenceAddress",label:"戶籍地址",required:"",placeholder:"請輸入"})]),e("div",ve,[n(d,{name:"address",label:"通訊地址",required:"",placeholder:"請輸入"})]),e("div",fe,[n(I,{name:"bankId",label:"收款銀行",required:"",placeholder:"請輸入",searchable:!0,"can-clear":!1,options:s(G)},null,8,["options"])]),e("div",ye,[n(d,{name:"bankBranch",label:"收款分行",required:"",placeholder:"請輸入"})]),e("div",ge,[n(d,{name:"bankAccount",label:"收款帳號",required:"",placeholder:"請輸入"})]),e("div",ke,[n(j,{name:"idCardFront",label:"身分證正面",required:"",placeholder:"請輸入",btnText:"上傳身分證正面",accept:".jpg,.png,.jpeg"},{img:h(()=>[e("img",{src:R(s(m).idCardFront)},null,8,we)]),_:1})]),e("div",$e,[n(j,{name:"idCardBack",label:"身分證反面",required:"",placeholder:"請輸入",btnText:"上傳身分證反面",accept:".jpg,.png,.jpeg"},{img:h(()=>[e("img",{src:R(s(m).idCardBack)},null,8,xe)]),_:1})]),e("div",qe,[e("div",Ce,[F(e("input",{class:"form-check-input",type:"checkbox",id:"useForNucleusAccounting","onUpdate:modelValue":_[2]||(_[2]=g=>B(y)?y.value=g:null)},null,512),[[J,s(y)]]),Ae])])],64)):(k(),q(S,{key:1},[e("div",Fe,[n(d,{name:"name",label:"公司名稱",required:"",placeholder:"請輸入"})]),e("div",Re,[n(d,{name:"taxId",label:"統編",required:"",placeholder:"請輸入"})]),e("div",Be,[n(d,{name:"email",label:"Email",required:"",placeholder:"請輸入"})]),e("div",je,[n(d,{name:"phone",label:"聯絡電話",required:"",placeholder:"請輸入"})]),e("div",Se,[n(d,{name:"companyAddress",label:"公司地址",required:"",placeholder:"請輸入"})]),e("div",Ie,[n(I,{name:"bankId",label:"收款銀行",required:"",placeholder:"請輸入",searchable:!0,"can-clear":!1,options:s(G)},null,8,["options"])]),e("div",Te,[n(d,{name:"bankBranch",label:"收款分行",required:"",placeholder:"請輸入"})]),e("div",De,[n(d,{name:"bankAccount",label:"收款帳號",required:"",placeholder:"請輸入"})])],64)),e("div",Me,[n(j,{name:"bankStatement",label:"銀行影本",required:"",placeholder:"請輸入",btnText:"上傳銀行影本",accept:".jpg,.png,.jpeg,.pdf"},{img:h(()=>[e("img",{src:R(s(m).bankStatement)},null,8,Ne)]),_:1})]),e("div",Ve,[e("button",{class:"btn btn-md btn-outline-primary",type:"button",onClick:_[3]||(_[3]=g=>r.value.hide())},"取消"),Ge])],32)]),_:1},8,["title"]))}},Ue={key:0,class:"table-responsive",style:{"overflow-y":"hidden"}},Ee={key:0,class:"table mb-0 border-top table-bordered text-nowrap rounded"},Oe=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"領款人")],-1),Ke=e("th",{class:"w-25"},"專案名稱",-1),Pe=e("th",{class:"w-25"},"領款人姓名",-1),ze=e("th",{class:"w-25"},"身分證字號",-1),He=e("th",{class:"w-25"},"聯絡電話",-1),Je=e("th",{class:"w-25"},"戶籍地址",-1),Qe=e("th",{class:"w-25"},"通訊地址",-1),We=e("th",{class:"w-25"},"是否加上核果報帳使用",-1),Xe=e("th",{class:"w-25"},"銀行匯款帳號",-1),Ye=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"領款金額")],-1),Ze=e("th",{class:"w-25"},"支付金額",-1),eo=e("span",{class:"input-group-text"},"新臺幣",-1),oo=e("span",{class:"input-group-text"},"元",-1),no=e("th",{class:"w-25"},"所得類別",-1),ao={class:"w-25"},to=e("td",null," 新臺幣 0 元 ",-1),co=e("tr",null,[e("th",{class:"w-25"},"-健保補充費 2.11 %"),e("td",null," 新臺幣 16,000 元 ")],-1),so=e("tr",null,[e("th",{class:"w-25"},"=支領淨額"),e("td",null," 新臺幣 0 元 ")],-1),lo=e("tr",null,[e("th",{class:"w-25"},"支付方式"),e("td",null,"匯款")],-1),mo=e("th",{class:"w-25"},"收款日期",-1),ro=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"身分證正反面影本")],-1),io=e("tr",null,[e("td",{class:"w-50"},[e("div",{style:{height:"250px"},class:"text-center d-flex align-items-center justify-content-center"}," (正面) ")]),e("td",{class:"w-50"},[e("div",{style:{height:"250px"},class:"text-center d-flex align-items-center justify-content-center"}," (反面) ")])],-1),uo=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"銀行影本")],-1),ho=e("tr",null,[e("td",{colspan:"2"},[e("div",{style:{height:"250px"},class:"text-center d-flex align-items-center justify-content-center"}," (銀行影本) ")])],-1),po={key:1,class:"table mb-0 border-top table-bordered text-nowrap rounded"},_o=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"領款人")],-1),bo=e("th",{class:"w-25"},"專案名稱",-1),vo=e("th",{class:"w-25"},"公司名稱",-1),fo=e("th",{class:"w-25"},"統編",-1),yo=e("th",{class:"w-25"},"聯絡電話",-1),go=e("th",{class:"w-25"},"公司地址",-1),ko=e("th",{class:"w-25"},"銀行匯款帳號",-1),wo=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"領款金額")],-1),$o=e("th",{class:"w-25"},"支付金額",-1),xo=e("span",{class:"input-group-text"},"新臺幣",-1),qo=e("span",{class:"input-group-text"},"元",-1),Co=e("tr",null,[e("th",{class:"w-25"},"-營業稅(5%)"),e("td",null," 新臺幣 0 元 ")],-1),Ao=e("tr",null,[e("th",{class:"w-25"},"=支領淨額"),e("td",null," 新臺幣 0 元 ")],-1),Fo=e("tr",null,[e("th",{class:"w-25"},"支付方式"),e("td",null,"匯款")],-1),Ro=e("th",{class:"w-25"},"收款日期",-1),Bo=e("tr",null,[e("th",{colspan:"2",class:"bg-dark text-center"},"銀行影本")],-1),jo=e("tr",null,[e("td",{colspan:"2"},[e("div",{style:{height:"250px"},class:"text-center d-flex align-items-center justify-content-center"}," (銀行影本) ")])],-1),So=e("div",{class:"btn-list text-center mt-5"},[e("button",{class:"btn btn-md btn-primary",type:"submit"}," 確認寄出 ")],-1),Io={__name:"SendInfoModal",setup(b,{expose:w}){const x={date:"",incomeCategory:"incomeTaxFive"},{incomeTax:v,incomeTaxValue:r}=de(),p=C(null),{handleSubmit:i,resetForm:A,values:$}=O({initialValues:x,validationSchema:E().shape({})}),c=C(null),f=async a=>{a&&(c.value=a,A({values:a})),p.value.show()},m=i(a=>{console.log(a),p.value.hide()});return w({show:f}),(a,t)=>(k(),L(K,{ref_key:"modalRef",ref:p,title:"寄送勞報單","hide-footer":!0,dialogClass:" modal-lg  modal-dialog-scrollable"},{default:h(()=>[e("form",{class:"row",onSubmit:t[0]||(t[0]=U((...y)=>s(m)&&s(m)(...y),["prevent"]))},[c.value?(k(),q("div",Ue,[c.value.type==="person"?(k(),q("table",Ee,[e("tbody",null,[Oe,e("tr",null,[Ke,e("td",null,[n(d,{name:"project",formGroupAttr:{class:"mb-0"},placeholder:"專案名稱"})])]),e("tr",null,[Pe,e("td",null,l(c.value.name),1)]),e("tr",null,[ze,e("td",null,l(c.value.identity),1)]),e("tr",null,[He,e("td",null,l(c.value.phone),1)]),e("tr",null,[Je,e("td",null,l(c.value.residenceAddress),1)]),e("tr",null,[Qe,e("td",null,l(c.value.address),1)]),e("tr",null,[We,e("td",null,l(c.value.useForNucleusAccounting?"是":"否"),1)]),e("tr",null,[Xe,e("td",null,l(c.value.bankId)+" - "+l(c.value.bankAccount),1)]),Ye,e("tr",null,[Ze,e("td",null,[n(d,{name:"project",formGroupAttr:{class:"mb-0"},type:"number"},{iconLeft:h(()=>[eo]),iconRight:h(()=>[oo]),_:1})])]),e("tr",null,[no,e("td",null,[n(I,{name:"incomeCategory",placeholder:"請選擇所得類別","can-clear":!1,"can-deselect":!1,formGroupAttr:{class:"mb-0"},options:s(v)},null,8,["options"])])]),e("tr",null,[e("th",ao,"-代扣所得稅 "+l(s(r)[s($).incomeCategory])+" %",1),to]),co,so,lo,e("tr",null,[mo,e("td",null,[n(d,{name:"date",formGroupAttr:{class:"mb-0"},type:"date"})])]),ro,io,uo,ho])])):(k(),q("table",po,[e("tbody",null,[_o,e("tr",null,[bo,e("td",null,[n(d,{name:"project",formGroupAttr:{class:"mb-0"},placeholder:"專案名稱"})])]),e("tr",null,[vo,e("td",null,l(c.value.name),1)]),e("tr",null,[fo,e("td",null,l(c.value.taxTd),1)]),e("tr",null,[yo,e("td",null,l(c.value.phone),1)]),e("tr",null,[go,e("td",null,l(c.value.companyAddress),1)]),e("tr",null,[ko,e("td",null,l(c.value.bankId)+" - "+l(c.value.bankAccount),1)]),wo,e("tr",null,[$o,e("td",null,[n(d,{name:"project",formGroupAttr:{class:"mb-0"},type:"number"},{iconLeft:h(()=>[xo]),iconRight:h(()=>[qo]),_:1})])]),Co,Ao,Fo,e("tr",null,[Ro,e("td",null,[n(d,{name:"date",formGroupAttr:{class:"mb-0"},type:"date"})])]),Bo,jo])])),So])):Q("",!0)],32)]),_:1},512))}},To={class:"row row-sm"},Do={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 grid-margin"},Mo={class:"card custom-card"},No={class:"card-header border-bottom-0 pb-0"},Vo={class:"row"},Go={class:"col-12"},Lo={class:"d-flex flex-column flex-lg-row justify-content-between"},Uo={class:"input-group wd-lg-25p"},Eo={class:"input-group-append"},Oo={class:"card-body"},Ko={class:"d-flex"},Po=["onClick"],zo=["onClick"],Ho=["onClick"],Jo="外包商管理",cn={__name:"index",setup(b){const{getOutsourcers:w,outsourcerList:x,pagination:v}=te(),r=W({keyword:"",sort:"desc",orderBy:"createDate"});X(()=>{i(1)});const p=[{key:"type",label:"法人"},{key:"name",label:"姓名",sort:!0},{key:"email",label:"email",sort:!0},{key:"phone",label:"聯絡電話",sort:!0},{key:"bankId",label:"銀行行號",sort:!0},{key:"bankAccount",label:"銀行帳號",sort:!0},{key:"action",label:"Action"}],i=async(m=1,a=10)=>{let t={page:m,limit:a,...r};await w(t)},A=(m="createTime",a="desc")=>{r.orderBy=m,r.sort=a,i(1,v.value.size)},$=C(null),c=m=>{V.fire({title:"Are you sure?",text:`刪除外包商「${m.name}」？`,type:"warning",showCancelButton:!0,confirmButtonText:"是的，確定刪除"}).then(async a=>{a.value&&(await i(x.value.length==1?1:v.value.current),V.fire("This Deleted!",`刪除外包商「${m.name}」！`,"success"))})},f=C(null);return(m,a)=>(k(),q(S,null,[n(ne,{title:Jo}),e("div",To,[e("div",Do,[e("div",Mo,[e("div",No,[e("div",Vo,[e("div",Go,[e("div",Lo,[e("div",Uo,[F(e("input",{type:"text",class:"form-control",placeholder:"搜尋","onUpdate:modelValue":a[0]||(a[0]=t=>r.keyword=t),onKeyup:a[1]||(a[1]=Z(t=>i(1),["enter"]))},null,544),[[Y,r.keyword]]),e("span",Eo,[e("button",{class:"btn btn-primary",type:"button",onClick:a[2]||(a[2]=t=>i(1))}," 搜尋 ")])]),e("button",{class:"btn btn-primary mt-2 mt-lg-0",onClick:a[3]||(a[3]=t=>$.value.show())},"新增外包商")])])])]),e("div",Oo,[n(oe,{header:p,items:s(x),onChangePage:i,onOrderChange:A,pagination:s(v),orderBy:r.orderBy,sort:r.sort},{type:h(({value:t})=>[ee(l(t==="corporation"?"是":"否"),1)]),action:h(({item:t})=>[e("div",Ko,[e("button",{class:"btn btn-sm btn-danger me-2",type:"button",onClick:y=>c(t)},"刪除",8,Po),e("button",{class:"btn btn-sm btn-info me-2",type:"button",onClick:y=>$.value.show(t)},"修改",8,zo),e("button",{class:"btn btn-sm btn-primary",type:"button",onClick:y=>f.value.show(t)},"寄送",8,Ho)])]),_:1},8,["items","pagination","orderBy","sort"])])])]),n(Le,{ref_key:"formModalRef",ref:$,reload:()=>i(s(v).current,s(v).size)},null,8,["reload"]),n(Io,{ref_key:"sendInfoRef",ref:f},null,512)])],64))}};export{cn as default};
