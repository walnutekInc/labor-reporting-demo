import{_ as $,D as B,a as C,S as f}from"./sweetalert2.all-ef22fbbf.js";import{C as D,m as L,x as p,b as d,k as I,w as h,d as _,e as t,t as a,h as V,O as M,B as A,f as m,g,F as P,a as R,j as N}from"./index-d757128d.js";import"./plugin-vueexport-helper-c27b6911.js";import"./menu-02b7f324.js";const S=[{date:"2024/01/31",name:"王小明",item:"",payDate:"",netDisbursement:"",postBack:!0,type:"corporation",email:"123@gmail.com",identity:"",phone:"09123456789",bankId:"001",bankAccount:"123456789"},{date:"2024/01/15",name:"李大華",item:"",payDate:"",netDisbursement:"",postBack:!0,type:"person",email:"1234@gmail.com",taxId:"",phone:"09123456789",bankId:"001",bankAccount:"123456789"}];function T(){const{setResponseList:b,list:i,pagination:l}=D();return{getPaymentlogList:async n=>{console.log(n),b({records:S,total:1,size:10,current:1,pages:1})},pagination:l,paymentLogList:i}}const j={key:0,class:"table-responsive"},z={class:"table mb-0 border-top table-bordered text-nowrap rounded"},E=t("th",{class:"w-25"},"法人",-1),F=t("th",{class:"w-25"},"姓名 ",-1),O=t("th",{class:"w-25"},"Email ",-1),U=t("th",{class:"w-25"},"電話 ",-1),q=t("th",{class:"w-25"},"帳戶資訊",-1),G={key:0},H=t("th",{class:"w-25"},"身分證字號",-1),J={key:1},K=t("th",{class:"w-25"},"統編",-1),Q=t("tr",null,[t("th",{class:"w-25"}),t("td",null,[t("button",{type:"button",class:"btn btn-primary"},"回簽pdf勞報單")])],-1),W=L({__name:"LogInfoModal",setup(b,{expose:i}){const l=p(null),e=p();return i({show:u=>{e.value=u,l.value.show()}}),(u,r)=>(d(),I($,{ref_key:"modalRef",ref:l,title:"檢視明細","dialog-class":"modal-dialog-centered"},{default:h(()=>[e.value?(d(),_("div",j,[t("table",z,[t("tbody",null,[t("tr",null,[E,t("td",null,a(e.value.type==="person"?"是":"否"),1)]),t("tr",null,[F,t("td",null,a(e.value.name),1)]),t("tr",null,[O,t("td",null,a(e.value.email),1)]),t("tr",null,[U,t("td",null,a(e.value.phone),1)]),t("tr",null,[q,t("td",null,a(e.value.bankId)+" - "+a(e.value.bankAccount),1)]),e.value.type==="person"?(d(),_("tr",G,[H,t("td",null,a(e.value.identity),1)])):(d(),_("tr",J,[K,t("td",null,a(e.value.taxId),1)])),Q])])])):V("",!0)]),_:1},512))}}),X={class:"row row-sm"},Y={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 grid-margin"},Z={class:"card custom-card"},tt={class:"card-header border-bottom-0 pb-0"},et={class:"d-flex justify-content-between align-items-center flex-wrap flex-md-nowrap"},nt={class:"input-group mb-2 mb-lg-0",style:{"max-width":"80%"}},ot=t("div",null,[t("button",{class:"btn btn-info",type:"button"},"下載 CSV ")],-1),st={class:"card-body"},at={class:"d-flex"},lt=["onClick"],ct=["onClick"],rt="付款管理",_t={__name:"index",setup(b){const{getPaymentlogList:i,pagination:l,paymentLogList:e}=T();p(null);const n=M({keyword:"",sort:"desc",orderBy:"createDate",date:[void 0,void 0]}),u=[{key:"date",label:"日期",sort:!0},{key:"name",label:"姓名",sort:!0},{key:"item",label:"品項名稱"},{key:"payDate",label:"支付日期"},{key:"netDisbursement",label:"支付淨額"},{key:"postBack",label:"是否回傳"},{key:"action",label:"Action"}],r=async(s=1,o=10)=>{await i({page:s,limit:o,...n})},k=(s="createTime",o="desc")=>{n.orderBy=s,n.sort=o,r(1,l.value.size)},v=s=>{f.fire({title:"Are you sure?",text:`刪除此紀錄「${s.date}/${s.name}」？`,icon:"warning",showCancelButton:!0,confirmButtonText:"是的，確定刪除"}).then(async o=>{o.isConfirmed&&(await r(e.value.length===1?1:l.value.current),f.fire("已刪除!",`刪除紀錄「${s.date}/${s.name}」！`,"success"))})};A(()=>{r(1)});const y=p(null);return(s,o)=>{const w=R("Datepicker");return d(),_(P,null,[m(C,{title:rt}),t("div",X,[t("div",Y,[t("div",Z,[t("div",tt,[t("div",et,[t("div",nt,[m(w,{modelValue:n.date,"onUpdate:modelValue":o[0]||(o[0]=c=>n.date=c),range:"","enable-time-picker":!1,format:"yyyy/MM/dd",style:{width:"100%","max-width":"300px"},placeholder:"日期範圍"},null,8,["modelValue"]),t("button",{class:"btn btn-primary",type:"button",onClick:o[1]||(o[1]=c=>r(1))}," 搜尋 ")]),ot])]),t("div",st,[m(B,{header:u,items:g(e),onChangePage:r,onOrderChange:k,pagination:g(l),orderBy:n.orderBy,sort:n.sort},{postBack:h(({value:c})=>[N(a(c?"是":"否"),1)]),action:h(({item:c})=>[t("div",at,[t("button",{class:"btn btn-sm btn-danger me-2",onClick:x=>v(c)},"刪除",8,lt),t("button",{class:"btn btn-sm btn-info me-2",onClick:x=>y.value.show(c)},"檢視",8,ct)])]),_:1},8,["items","pagination","orderBy","sort"])])])])]),m(W,{ref_key:"logInfoModalRef",ref:y},null,512)],64)}}};export{_t as default};
