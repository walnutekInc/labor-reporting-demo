import{M as N,x,S as A,c as V,b as f,d as v,e as s,j as I,t as d,E as b,T as h,g as e,U as T,Q as y,h as C,A as q}from"./index-692e5e41.js";import{d as E}from"./sweetalert2.all-823813ac.js";function l(n){return n===void 0}const F=[{id:"1",name:"王小明",type:"corporation",email:"123@gmail.com",identity:"",phone:"09123456789",bankId:"001",bankAccount:"123456789",residenceAddress:"",idCardFront:"",idCardBack:""},{id:"2",name:"王小明2",type:"person",email:"1234@gmail.com",identity:"",phone:"09123456789",bankId:"001",bankAccount:"123456789",residenceAddress:"",idCardFront:"",idCardBack:""}],M=()=>{const{setResponseList:n,pagination:g,list:i}=N(),m=a=>{console.log(a),n({records:F,total:1,size:10,current:1,pages:1})},r=x([]);return{getOutsourcers:m,pagination:g,outsourcerList:i,outsorucerOption:r,getOutsorucerOption:()=>{r.value=F.map(a=>({value:a.id,label:`${a.name} (${a.type==="person"?"自然人":"法人"})`}))},getOutsorucerById:a=>F.find(c=>c.id==a)}},o=n=>"File"in window&&n instanceof File,L=["accept"],R={class:"mg-b-10 text-start"},U={class:"text-danger mx-1"},W={key:0,class:"d-inline-block"},$=["title"],_={__name:"FormUploadFile",props:{label:String,labelWarning:String,btnText:String,name:{type:String,required:!0},orgFileName:String,showFileName:{type:Boolean,default:!0},required:{type:Boolean,default:!1},accept:String},emits:["clearFile","changeFile"],setup(n,{emit:g}){const i=n,m=A(i,"name"),r=g,{value:t,errorMessage:p,handleChange:a}=E(m,void 0,{...i.value&&{initialValue:i.value}}),c=x({}),S=()=>{c.value.click()},B=u=>{u.target.files&&u.target.files.length>0&&(a(u.target.files[0]),r("changeFile",t.value),c.value.value=null)},k=V(()=>(console.log(l(t.value)),l(t.value)||!o(t.value)?"":o(t.value)?t.value.name:i.orgFileName)),O=()=>{o(t.value)||r("clearFile"),a(void 0)};return(u,j)=>(f(),v("div",null,[s("input",{type:"file",class:"d-none",ref:w=>c.value=w,accept:n.accept,onChange:B},null,40,L),s("p",R,[I(d(n.label),1),b(s("span",U,"*",512),[[h,n.required]]),b(s("span",{class:"text-warning"},"("+d(n.labelWarning)+")",513),[[h,!e(l)(n.labelWarning)]])]),T(u.$slots,"img"),b(s("button",{type:"button",onClick:S,class:"btn btn-sm btn-outline-primary"},d(n.btnText),513),[[h,e(l)(e(t))||!e(l)(e(t))&&!e(o)(e(t))&&e(y)(e(t))]]),!e(l)(e(t))&&e(o)(e(t))||!e(o)(e(t))&&!e(y)(e(t))?(f(),v("div",W,[n.showFileName?(f(),v("a",{key:0,href:"javascript:;",title:k.value,class:"text-decoration-underline me-2"},d(k.value),9,$)):C("",!0),s("i",{class:"ion-close-round text-muted cursor-pointer fs-6 pt-2","data-bs-toggle":"tooltip",onClick:O})])):C("",!0),s("div",{class:q(["invalid-feedback",{"d-block":!!e(p)}])},d(e(p)),3)]))}};export{_,o as i,M as u};
